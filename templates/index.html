<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/style.css">
    <title>Fit Aura</title>
</head>
<body>
    <div class="wrapper">
        <h1>FIT AURA</h1>
        <p class="subtitle">Personalized Diet & Workout Planner</p>

        <div class="container">
            <div class="card left-section">
                <h2>Enter Your Details here -></h2>
                <form method="POST">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" 
                           value="{{ form_data.age if form_data else '' }}" required>

                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="" disabled {% if not form_data %}selected{% endif %}>-- Select Gender --</option>
                        <option value="Male" {% if form_data and form_data.gender == 'Male' %}selected{% endif %}>Male</option>
                        <option value="Female" {% if form_data and form_data.gender == 'Female' %}selected{% endif %}>Female</option>
                    </select>

                    <label for="height">Height (cm):</label>
                    <input type="number" id="height" name="height" 
                           value="{{ form_data.height if form_data else '' }}" required>

                    <label for="weight">Weight (kg):</label>
                    <input type="number" id="weight" name="weight" 
                           value="{{ form_data.weight if form_data else '' }}" required>

                    <label for="diet">Diet Preference:</label>
                    <select id="diet" name="diet" required>
                        <option value="" disabled {% if not form_data %}selected{% endif %}>-- Select Diet --</option>
                        <option value="Vegetarian" {% if form_data and form_data.diet == 'Vegetarian' %}selected{% endif %}>Vegetarian</option>
                        <option value="Non-Vegetarian" {% if form_data and form_data.diet == 'Non-Vegetarian' %}selected{% endif %}>Non-Vegetarian</option>
                        <option value="Vegan" {% if form_data and form_data.diet == 'Vegan' %}selected{% endif %}>Vegan</option>
                    </select>

                    <label for="exercise">Exercise Preference:</label>
                    <select id="exercise" name="exercise" required>
                        <option value="" disabled {% if not form_data %}selected{% endif %}>-- Select Exercise --</option>
                        <option value="Cardio" {% if form_data and form_data.exercise == 'Cardio' %}selected{% endif %}>Cardio</option>
                        <option value="Strength Training" {% if form_data and form_data.exercise == 'Strength Training' %}selected{% endif %}>Strength Training</option>
                        <option value="Yoga" {% if form_data and form_data.exercise == 'Yoga' %}selected{% endif %}>Yoga</option>
                    </select>

                    <button type="submit">Generate My Plan</button>
                </form>

                {% if prediction %}
                <div class="results">
                    <h3>Result: {{ prediction }}</h3>
                    <p><strong>BMI:</strong> <b>{{ bmi_value }}</b></p>

                    <h5><u>Diet Plan ({{ diet }}):</u></h5>
                    <ul>
                        <li><strong>Morning:</strong> {{ diet_plan['morning']|join(', ') }}</li>
                        <li><strong>Afternoon:</strong> {{ diet_plan['afternoon']|join(', ') }}</li>
                        <li><strong>Evening:</strong> {{ diet_plan['evening']|join(', ') }}</li>
                    </ul>

                    <h5><u>Workout Plan ({{ exercise }}):</u></h5>
                    <ul>
                        <li><strong>Morning:</strong> {{ workout_plan['morning']|join(', ') }}</li>
                        <li><strong>Afternoon:</strong> {{ workout_plan['afternoon']|join(', ') }}</li>
                        <li><strong>Evening:</strong> {{ workout_plan['evening']|join(', ') }}</li>
                    </ul>
                </div>
                {% endif %}
            </div>

            <div class="card right-section">
                <h2>Your personalized health journey starts here!</h2>
                <img src="/static/Health.jpg" alt="Health Image">
                <p>Fit Aura analyzes your profile and calculates your BMI to understand your health status based on preferences, suggesting suitable diets and workout plans.</p>
            </div>
        </div>
    </div>
</body>
</html>